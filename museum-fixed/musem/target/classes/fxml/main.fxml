<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="kz.enu.museum.controller.MainController"
            prefHeight="800" prefWidth="1200"
            stylesheets="@../css/styles.css">
    
    <!-- ÐœÐµÐ½ÑŽ -->
    <top>
        <VBox>
            <MenuBar>
                <Menu text="Ð¤Ð°Ð¹Ð»">
                    <MenuItem text="Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚ JSON" onAction="#handleImportJson"/>
                    <MenuItem text="Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ JSON" onAction="#handleExportJson"/>
                    <MenuItem text="Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ CSV" onAction="#handleExportCsv"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="Ð’Ñ‹Ñ…Ð¾Ð´" onAction="#handleExit"/>
                </Menu>
                <Menu text="Ð­ÐºÑÐ¿Ð¾Ð½Ð°Ñ‚Ñ‹">
                    <MenuItem text="Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ°Ñ€Ñ‚Ð¸Ð½Ñƒ" onAction="#handleAddPainting"/>
                    <MenuItem text="Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐºÑƒÐ»ÑŒÐ¿Ñ‚ÑƒÑ€Ñƒ" onAction="#handleAddSculpture"/>
                    <MenuItem text="Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð°Ñ€Ñ‚ÐµÑ„Ð°ÐºÑ‚" onAction="#handleAddArtifact"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ" onAction="#handleEditExhibit"/>
                    <MenuItem text="Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ" onAction="#handleDeleteExhibit"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ" onAction="#handleChangeStatus"/>
                    <MenuItem text="ÐŸÐµÑ€ÐµÐ¼ÐµÑÑ‚Ð¸Ñ‚ÑŒ Ð² Ð·Ð°Ð»" onAction="#handleChangeLocation"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ" onAction="#handleRefresh"/>
                </Menu>
                <Menu text="Ð¡Ð¿Ñ€Ð°Ð²Ð¾Ñ‡Ð½Ð¸ÐºÐ¸">
                    <MenuItem text="ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸" onAction="#handleManageCategories"/>
                    <MenuItem text="Ð¥ÑƒÐ´Ð¾Ð¶Ð½Ð¸ÐºÐ¸" onAction="#handleManageArtists"/>
                    <MenuItem text="Ð—Ð°Ð»Ñ‹" onAction="#handleManageLocations"/>
                </Menu>
                <Menu text="ÐžÑ‚Ñ‡Ñ‘Ñ‚Ñ‹">
                    <MenuItem text="ÐžÐ±Ñ‰Ð°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°" onAction="#handleStatistics"/>
                    <MenuItem text="ÐÐ° Ñ€ÐµÑÑ‚Ð°Ð²Ñ€Ð°Ñ†Ð¸Ð¸" onAction="#handleRestorationReport"/>
                    <MenuItem text="Ð­ÐºÑÐ¿Ð¾Ð½Ð°Ñ‚Ñ‹ Ð¿Ð¾ Ð·Ð°Ð»Ð°Ð¼" onAction="#handleLocationReport"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ PDF" onAction="#handleExportPdf"/>
                </Menu>
                <Menu text="Ð¡Ð¿Ñ€Ð°Ð²ÐºÐ°">
                    <MenuItem text="Ðž Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ" onAction="#handleAbout"/>
                </Menu>
            </MenuBar>
            
            <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² -->
            <ToolBar styleClass="tool-bar">
                <Button fx:id="addButton" text="âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ" onAction="#handleAddExhibit" styleClass="button-success"/>
                <Button fx:id="editButton" text="âœï¸ Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ" onAction="#handleEditExhibit"/>
                <Button text="ðŸ–¼ï¸ ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€" onAction="#handleViewExhibit" styleClass="button-info"/>
                <Button fx:id="deleteButton" text="ðŸ—‘ï¸ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ" onAction="#handleDeleteExhibit" styleClass="button-danger"/>
                <Separator orientation="VERTICAL"/>
                <Button fx:id="refreshButton" text="ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ" onAction="#handleRefresh"/>
                <Separator orientation="VERTICAL"/>
                <Button text="ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°" onAction="#handleStatistics"/>
            </ToolBar>
            
            <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð¿Ð¾Ð¸ÑÐºÐ° -->
            <HBox spacing="10" styleClass="search-panel">
                <Label text="ðŸ” ÐŸÐ¾Ð¸ÑÐº:" styleClass="label-subheader"/>
                <TextField fx:id="searchTextField" promptText="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ, Ð¸Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€Ð½Ñ‹Ð¹ Ð½Ð¾Ð¼ÐµÑ€, Ð°Ð²Ñ‚Ð¾Ñ€..." 
                           HBox.hgrow="ALWAYS" styleClass="search-field"/>
                
                <Label text="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:"/>
                <ComboBox fx:id="statusFilter" promptText="Ð’ÑÐµ ÑÑ‚Ð°Ñ‚ÑƒÑÑ‹" prefWidth="150"/>
                
                <Label text="ÐÐ²Ñ‚Ð¾Ñ€:"/>
                <ComboBox fx:id="authorFilter" promptText="Ð’ÑÐµ Ð°Ð²Ñ‚Ð¾Ñ€Ñ‹" prefWidth="150"/>
                
                <Button fx:id="resetFilterButton" text="ðŸ”„ Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ" onAction="#handleResetFilters" styleClass="button-flat"/>
            </HBox>
        </VBox>
    </top>
    
    <!-- ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ -->
    <center>
        <SplitPane dividerPositions="0.2" prefHeight="600">
            <!-- Ð›ÐµÐ²Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ: Ð´ÐµÑ€ÐµÐ²Ð¾ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹ -->
            <VBox styleClass="sidebar">
                <VBox styleClass="sidebar-header">
                    <Label text="ðŸ“š ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸" styleClass="sidebar-header"/>
                </VBox>
                <TreeView fx:id="categoryTree" VBox.vgrow="ALWAYS" styleClass="sidebar"/>
            </VBox>
            
            <!-- ÐŸÑ€Ð°Ð²Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ: Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° ÑÐºÑÐ¿Ð¾Ð½Ð°Ñ‚Ð¾Ð² -->
            <VBox spacing="10" style="-fx-padding: 20;">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label fx:id="tableTitle" text="Ð’ÑÐµ ÑÐºÑÐ¿Ð¾Ð½Ð°Ñ‚Ñ‹" styleClass="label-header"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="countLabel" text="Ð’ÑÐµÐ³Ð¾: 0" styleClass="label-caption"/>
                </HBox>
                
                <TableView fx:id="exhibitTable" VBox.vgrow="ALWAYS">
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                    <columns>
                        <TableColumn fx:id="idColumn" text="ID" prefWidth="50" minWidth="50"/>
                        <TableColumn fx:id="inventoryColumn" text="Ð˜Ð½Ð². â„–" prefWidth="100"/>
                        <TableColumn fx:id="nameColumn" text="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ" prefWidth="200"/>
                        <TableColumn fx:id="typeColumn" text="Ð¢Ð¸Ð¿" prefWidth="100"/>
                        <TableColumn fx:id="authorColumn" text="ÐÐ²Ñ‚Ð¾Ñ€" prefWidth="150"/>
                        <TableColumn fx:id="categoryColumn" text="ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ" prefWidth="120"/>
                        <TableColumn fx:id="statusColumn" text="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ" prefWidth="120"/>
                        <TableColumn fx:id="locationColumn" text="Ð—Ð°Ð»" prefWidth="100"/>
                        <TableColumn fx:id="yearColumn" text="Ð“Ð¾Ð´" prefWidth="80"/>
                    </columns>
                </TableView>
            </VBox>
        </SplitPane>
    </center>
    
    <!-- ÐÐ¸Ð¶Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»ÑŒ: ÑÑ‚Ð°Ñ‚ÑƒÑ -->
    <bottom>
        <HBox styleClass="status-bar" spacing="20">
            <Label fx:id="statusBar" text="Ð“Ð¾Ñ‚Ð¾Ð²Ð¾" HBox.hgrow="ALWAYS"/>
            <Label fx:id="selectedCountLabel" text="Ð’Ñ‹Ð±Ñ€Ð°Ð½Ð¾: 0"/>
            <Separator orientation="VERTICAL"/>
            <Label text="Museum Catalog v1.0" styleClass="label-caption"/>
        </HBox>
    </bottom>
</BorderPane>
