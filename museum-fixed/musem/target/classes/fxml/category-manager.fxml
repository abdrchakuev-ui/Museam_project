<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="kz.enu.museum.controller.CategoryManagerController"
            prefHeight="600" prefWidth="800">
    
    <top>
        <VBox style="-fx-padding: 20; -fx-background-color: #1976D2;">
            <Label text="ðŸ“š Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑÐ¼Ð¸" 
                   style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold;"/>
            <Label text="Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¸ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ÐµÑ€Ð°Ñ€Ñ…Ð¸Ð¸ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹" 
                   style="-fx-text-fill: #BBDEFB; -fx-font-size: 14px;"/>
        </VBox>
    </top>
    
    <center>
        <SplitPane dividerPositions="0.5">
            <!-- Ð”ÐµÑ€ÐµÐ²Ð¾ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹ -->
            <VBox spacing="10" style="-fx-padding: 15;">
                <Label text="Ð˜ÐµÑ€Ð°Ñ€Ñ…Ð¸Ñ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹:" styleClass="label-subheader"/>
                <ToolBar>
                    <Button text="âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ" onAction="#handleAdd" styleClass="button-success"/>
                    <Button text="âœï¸ Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ" onAction="#handleEdit"/>
                    <Button text="ðŸ—‘ï¸ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ" onAction="#handleDelete" styleClass="button-danger"/>
                    <Separator orientation="VERTICAL"/>
                    <Button text="â†“ ÐŸÐ¾Ð´ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ" onAction="#handleAddSubcategory"/>
                </ToolBar>
                <TreeView fx:id="categoryTreeView" VBox.vgrow="ALWAYS"/>
            </VBox>
            
            <!-- Ð¤Ð¾Ñ€Ð¼Ð° Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ -->
            <VBox spacing="15" style="-fx-padding: 15;">
                <Label text="Ð¡Ð²Ð¾Ð¹ÑÑ‚Ð²Ð° ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸:" styleClass="label-subheader"/>
                
                <GridPane hgap="10" vgap="12">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="35"/>
                        <ColumnConstraints percentWidth="65" hgrow="ALWAYS"/>
                    </columnConstraints>
                    
                    <Label text="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ:*" GridPane.rowIndex="0"/>
                    <TextField fx:id="nameField" promptText="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸" 
                               GridPane.rowIndex="0" GridPane.columnIndex="1"/>
                    
                    <Label text="ÐšÐ¾Ð´:*" GridPane.rowIndex="1"/>
                    <TextField fx:id="codeField" promptText="Ð£Ð½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ¾Ð´" 
                               GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                    
                    <Label text="ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:" GridPane.rowIndex="2"/>
                    <TextArea fx:id="descriptionArea" promptText="ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸" 
                              prefRowCount="3" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
                    
                    <Label text="Ð Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÑÐºÐ°Ñ:" GridPane.rowIndex="3"/>
                    <ComboBox fx:id="parentCombo" promptText="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ€Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÑÐºÑƒÑŽ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑŽ" 
                              GridPane.rowIndex="3" GridPane.columnIndex="1" maxWidth="Infinity"/>
                </GridPane>
                
                <Separator/>
                
                <HBox spacing="10">
                    <Button text="ðŸ’¾ Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ" onAction="#handleSave" styleClass="button-success" defaultButton="true"/>
                    <Button text="ðŸ”„ ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ" onAction="#handleClear" styleClass="button-outlined"/>
                </HBox>
                
                <Region VBox.vgrow="ALWAYS"/>
                
                <VBox spacing="5" style="-fx-background-color: #FFF3E0; -fx-padding: 10; -fx-background-radius: 4;">
                    <Label text="ðŸ’¡ ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°:" style="-fx-font-weight: bold; -fx-text-fill: #E65100;"/>
                    <Label text="â€¢ ÐšÐ¾Ð´ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¼" style="-fx-font-size: 12px;"/>
                    <Label text="â€¢ Ð”Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¿Ð¾Ð´ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸ Ð²Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ€Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÑÐºÑƒÑŽ" style="-fx-font-size: 12px;"/>
                    <Label text="â€¢ Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ Ð²ÑÐµ Ð¿Ð¾Ð´ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸" style="-fx-font-size: 12px;"/>
                </VBox>
            </VBox>
        </SplitPane>
    </center>
    
    <bottom>
        <HBox styleClass="status-bar" spacing="10">
            <Label fx:id="statusLabel" text="Ð“Ð¾Ñ‚Ð¾Ð²Ð¾" HBox.hgrow="ALWAYS"/>
            <Button text="Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ" onAction="#handleClose" styleClass="button-outlined"/>
        </HBox>
    </bottom>
</BorderPane>
